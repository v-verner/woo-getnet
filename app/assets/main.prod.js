"use strict";jQuery(function(r){var c=!1,o=r("form.woocommerce-checkout"),i=r('#wc-getnet-cc-form input:not([type="hidden"])');o.on("checkout_place_order_getnet",function(e){if(c)return!(c=!1);if(!r("#payment_method_getnet").is(":checked"))return!0;var a=o.find("#place_order").text();if(o.find("#place_order").attr("disabled",!0).text("Validando Cartão..."),i.each(function(){if(!r(this).val())return!1}),!function(e){var t=e.split("/"),a=new Date(t[0]+"-01-20"+t[1]);return"Invalid Date"!=a&&!((new Date).getFullYear()>a.getFullYear())}(r("#getnet_expdate").val()))return alert("Por favor, confira os dados do seu cartão"),!1;var t=r("#getnet_expdate").val().split("/"),n={action:"getnet_processCreditCard",card:r("#getnet_ccNo").val(),month:t[0],year:t[1],cvv:r("#getnet_cvv").val(),name:r("#getnet_ccName").val()};return r.post(getnetParams.url,n,function(e){var t=e.data.message;if(!e.success)return alert(t),o.find("#place_order").attr("disabled",!1).text(a),!1;o.find('input[name="getnet_ccToken"]').val(t.token),o.find('input[name="getnet_ccMonth"]').val(t.expMonth),o.find('input[name="getnet_ccYear"]').val(t.expYear),c=!0,o.submit()}),!1}),r(document).change(function(){r("#getnet_ccNo").mask("0000.0000.0000.0000",{clearIfNotMatch:!0}),r("#getnet_expdate").mask("00/00",{clearIfNotMatch:!0})})});